s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor_code_days
# número de días al mes
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
arrange(ganaderia_household_labor_code_days, cons, s7c7gp01, member)
# número de días al mes
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e,     # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e      # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "months") %>%
mutate(member = cleanKey(householdMember,9,9))
arrange(ganaderia_household_labor_code_months, cons, s7c7gp01, member)
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
ganaderia_household_labor <- left_join(ganaderia_household_labor_time, ganaderia_household_labor_code_time,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_days,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e      # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "months") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_months,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
#arrange(ganaderia_household_labor, cons, s7c7gp01, member)
summary(ganaderia_household_labor)
summarize(ganaderia_household_labor)
names(ganaderia_household_labor)
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
ganaderia_household_labor <- left_join(ganaderia_household_labor_time, ganaderia_household_labor_code_time,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_days,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e      # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "months") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_months,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
#arrange(ganaderia_household_labor, cons, s7c7gp01, member)
ganaderia_household_labor <- select(ganaderia_household_labor,
cons, s7c7gp01, member, num_hours_or_min, code_hours_or_min, days, months) %>%
arrange(ganaderia_household_labor, cons, s7c7gp01, member)
ganaderia_household_labor <- select(ganaderia_household_labor,
cons, s7c7gp01, member, num_hours_or_min, code_hours_or_min, days, months) %>%
arrange(ganaderia_household_labor, cons, s7c7gp01, member)
ganaderia_household_labor
ganaderia_household_labor <- select(ganaderia_household_labor,
cons, s7c7gp01, member, num_hours_or_min, code_hours_or_min, days, months) %>%
arrange(cons, s7c7gp01, member)
ganaderia_household_labor
ganaderia_household_labor <- ganaderia_household_labor %>% select(ganaderia_household_labor,
cons,
s7c7gp01,
member,
num_hours_or_min,
code_hours_or_min,
days,
months) %>%
arrange(cons, s7c7gp01, member)
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e      # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "months") %>%
mutate(member = cleanKey(householdMember,9,9))
#arrange(ganaderia_household_labor, cons, s7c7gp01, member)
ganaderia_household_labor <- left_join(ganaderia_household_labor_time, ganaderia_household_labor_code_time,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_days,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_months,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor
arrange(ganaderia_household_labor, cons, s7c7gp01, member)
names(ganaderia_household_labor)
ganaderia_household_labor <-  select(ganaderia_household_labor,
cons,
s7c7gp01,
member,
num_hours_or_min,
code_hours_or_min,
days,
months) %>%
arrange(cons, s7c7gp01, member)
ganaderia_household_labor
cleanKey <- function(key, start, end){
substring(key,start,end)
}
# horas y minutos
ganaderia_household_labor_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04a,     # Persona A: número horas o minutos al día le trabajó
s7c7gp04b,     # Persona B: número horas o minutos al día le trabajó
s7c7gp04c,     # Persona C: número horas o minutos al día le trabajó
s7c7gp04d,     # Persona D: número horas o minutos al día le trabajó
s7c7gp04e     # Persona E: número horas o minutos al día le trabajó
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "num_hours_or_min") %>%
mutate(member = cleanKey(householdMember,9,9))
# codigo horas y minutos
ganaderia_household_labor_code_time  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp04_ca,   # Persona A: código horas (1) o minutos (2)
s7c7gp04_cb,   # Persona B: código horas (1) o minutos (2)
s7c7gp04_cc,   # Persona C: código horas (1) o minutos (2)
s7c7gp04_cd,   # Persona D: código horas (1) o minutos (2)
s7c7gp04_ce   # Persona E: código horas (1) o minutos (2)
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "code_hours_or_min") %>%
mutate(member = cleanKey(householdMember,11,11))
# número de días a la semana
ganaderia_household_labor_code_days  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp05a,     # Persona A: número de días a la semana
s7c7gp05b,     # Persona B: número de días a la semana
s7c7gp05c,     # Persona C: número de días a la semana
s7c7gp05d,     # Persona D: número de días a la semana
s7c7gp05e     # Persona E: número de días a la semana
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "days") %>%
mutate(member = cleanKey(householdMember,9,9))
# número de días al mes
ganaderia_household_labor_code_months  <- prod_ganade_ta %>%
filter(s7c7gp02 == 1) %>% # Trabajaron miembros del hogar en ganadería 1 sí / 2 no
select(cons,          # número de cuestionario
s7c7gp01,      # Grupo animal
s7c7gp06a,     # Persona A: número de meses
s7c7gp06b,     # Persona B: número de meses
s7c7gp06c,     # Persona C: número de meses
s7c7gp06d,     # Persona D: número de meses
s7c7gp06e      # Persona E: número de meses
) %>%
arrange(cons, s7c7gp01) %>%
gather(3:7, key = "householdMember", value = "months") %>%
mutate(member = cleanKey(householdMember,9,9))
ganaderia_household_labor <- left_join(ganaderia_household_labor_time, ganaderia_household_labor_code_time,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_days,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor <- left_join(ganaderia_household_labor, ganaderia_household_labor_code_months,
by = c("cons"= "cons", "s7c7gp01" = "s7c7gp01", "member" = "member"))
ganaderia_household_labor <-  select(ganaderia_household_labor,
cons,
s7c7gp01,
member,
num_hours_or_min,
code_hours_or_min,
days,
months) %>%
arrange(cons, s7c7gp01, member)
ganaderia_household_labor
